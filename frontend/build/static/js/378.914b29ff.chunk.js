"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[378],{378:function(e,t,r){r.r(t),r.d(t,{default:function(){return x}});var s=r(791),n=r(87),l=r(479),o=r(165),a=r(861),c=r(439),i=r(224),d=r(184);function u(e){var t=s.useState(!1),r=(0,c.Z)(t,2),n=r[0],u=r[1],x=(0,s.useState)(""),h=(0,c.Z)(x,2),f=(h[0],h[1]),m=(0,s.useContext)(i.V),p=function(){var t=(0,a.Z)((0,o.Z)().mark((function t(){return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,u(!1),t.next=4,fetch("https://tiny-jade-beetle-hose.cyclic.app/".concat(e.placeId),{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer "+m.token}});case 4:e.onDelete(e.placeId),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0.message),f(t.t0.message);case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}();return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(l.Z,{colour:e.colour,text:e.text,afterClick:function(){return u(!0)}}),n?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:"opacity-25 fixed min-h-screen inset-0 z-40 bg-black"}),(0,d.jsx)("div",{className:"absolute overflow-x-hidden overflow-y-hidden inset-0 z-50 flex ",children:(0,d.jsx)("div",{className:" min-w-[450px] w-3/5 my-auto mx-auto ",children:(0,d.jsxs)("div",{className:"border-0  shadow-lg relative flex flex-col w-3/4 mx-auto bg-white outline-none focus:outline-none ",children:[(0,d.jsx)("div",{className:"flex items-center justify-center p-3 border-b border-solid border-slate-200 rounded-t",children:(0,d.jsx)("h3",{className:"text-center text-3xl font-semibold font-mono",children:e.header})}),e.children,"viewonly"===e.footer&&(0,d.jsx)("div",{className:"flex items-center justify-end p-6 border-t border-solid border-slate-200 rounded-b",children:(0,d.jsx)(l.Z,{colour:"blue",text:"OK",afterClick:function(){return u(!1)}})}),"confirm"===e.footer&&(0,d.jsxs)("div",{className:"flex items-center justify-around p-4 border-t border-solid border-slate-200 rounded-b",children:[(0,d.jsx)(l.Z,{colour:"blue",text:"CANCEL",afterClick:function(){return u(!1)}}),(0,d.jsx)(l.Z,{colour:"orange",text:"CONFIRM",afterClick:p})]})]})})})]}):null]})}var x=function(e){var t=(0,s.useContext)(i.V);return 0===e.list.length?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:"relative my-5  text-4xl font-bold text-purple-600 font-mono",children:"No Places to show .."}),(0,d.jsx)("div",{className:"my-auto",children:!t.isLoggedIn&&(0,d.jsx)(n.rU,{to:"/auth",children:(0,d.jsx)(l.Z,{colour:"blue",text:"Share some places"})})})]}):(0,d.jsx)(d.Fragment,{children:e.list.map((function(r){return(0,d.jsx)("div",{className:"flex justify-center ",children:(0,d.jsxs)("div",{className:"rounded-lg shadow bg-white w-full  m-10 hover:shadow-lg duration-300 ease-out ",children:[(0,d.jsx)("img",{className:"rounded-t-lg w-full max-h-[600px]",src:"".concat(r.image),alt:r.title}),(0,d.jsxs)("div",{className:"p-6 flex flex-col content-center",children:[(0,d.jsx)("h5",{className:"text-gray-900 text-xl font-medium mb-2 uppercase text-center",children:r.title}),(0,d.jsx)("p",{className:"text-gray-700 text-base mb-4 text-center capitalize",children:r.address}),(0,d.jsx)("p",{className:"text-gray text-base mb-4 text-center capitalize",children:r.description}),(0,d.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between p-2",children:[(0,d.jsx)(u,{colour:"blue",text:"VIEW ON MAP",header:"Map",footer:"viewonly",children:(0,d.jsx)("div",{className:"relative p-6 flex-auto",children:(0,d.jsx)("img",{className:"w-full",src:"https://i.stack.imgur.com/sakPM.png",alt:"map"})})}),t.isLoggedIn&&t.userId===r.creater&&(0,d.jsx)(u,{colour:"red",text:"DELETE",header:"DELETE",footer:"confirm",placeId:r._id,onDelete:e.onPlaceDelete,children:(0,d.jsx)("h1",{className:"text-2xl text-center my-5 ",children:"Are you sure want to delete this place ?"})}),(0,d.jsx)(n.rU,{to:"/place/".concat(r._id),children:t.isLoggedIn&&t.userId===r.creater&&(0,d.jsx)(l.Z,{colour:"orange",text:"UPDATE"})})]})]})]})},r._id)}))})}},479:function(e,t,r){r(791);var s=r(184);t.Z=function(e){return(0,s.jsx)("button",{type:"button",className:"inline-block px-6 py-2.5 bg-white text-blue-700 font-medium text-xs leading-tight uppercase rounded shadow-md hover:bg-blue-700 hover:text-white hover:shadow-lg focus:bg-blue-700 focus:shadow-lg focus:outline-none focus:ring-0 focus:text-white active:bg-blue-800 active:text-white  active:shadow-lg transition duration-150 ease-in-out",onClick:e.afterClick,children:e.text})}}}]);
//# sourceMappingURL=378.914b29ff.chunk.js.map