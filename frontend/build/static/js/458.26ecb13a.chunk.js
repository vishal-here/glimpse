"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[458],{458:function(e,r,t){t.r(r);var s=t(942),o=t(413),a=t(165),n=t(762),l=t(861),i=t(439),c=t(791),d=t(224),u=t(689),p=t(174),m=(t(462),t(701)),g=t(184);r.default=function(e){var r=(0,u.s0)(),t=(0,c.useContext)(d.V),b=(0,c.useState)({username:"",email:"",password:"",confirmPassword:""}),f=(0,i.Z)(b,2),h=f[0],x=f[1],w=(0,c.useState)({email:"",password:""}),v=(0,i.Z)(w,2),y=v[0],j=v[1],k=(0,c.useState)(""),N=(0,i.Z)(k,2),P=N[0],C=N[1],Z=(0,c.useState)(""),O=(0,i.Z)(Z,2),S=O[0],A=O[1],F=(0,c.useState)(""),B=(0,i.Z)(F,2),H=B[0],R=B[1],T=(0,c.useState)(),D=(0,i.Z)(T,2),E=D[0],I=D[1],L=function(){var s=(0,l.Z)((0,a.Z)().mark((function s(o){var l,c,d,u,m,g,b,f;return(0,a.Z)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(""!==h.username&&""!==h.email&&""!==h.password&&""!==h.confirmPassword){s.next=4;break}return C("This field can't be empty !!"),A(""),s.abrupt("return");case 4:if(""===h.password&&""===h.confirmPassword||h.password===h.confirmPassword){s.next=7;break}return A("Password dont match !!"),s.abrupt("return");case 7:if(x({username:h.username,email:h.email,password:h.password,confirmPassword:h.confirmPassword}),P||S){s.next=39;break}return{name:h.username,email:h.email,password:h.password},s.prev=10,(l=new FormData).append("name",h.username),l.append("email",h.email),l.append("password",h.password),l.append("profile-pic",E),e.fillProgress(10),s.next=19,fetch("".concat("https://agreeable-khakis-toad.cyclic.app/","/api/user/signup"),{method:"POST",body:l});case 19:c=s.sent,e.fillProgress(50),d=(0,n.Z)(l);try{for(d.s();!(u=d.n()).done;)m=(0,i.Z)(u.value,2),g=m[0],b=m[1],console.log(g," : ",b)}catch(a){d.e(a)}finally{d.f()}return s.next=25,c.json();case 25:if(f=s.sent,e.fillProgress(100),c.ok){s.next=29;break}throw new Error(f.message);case 29:t.login(f.user._id,f.token),p.Am.success("Registered Successfully !!",{position:"top-center",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),r("/"),s.next=39;break;case 34:return s.prev=34,s.t0=s.catch(10),e.fillProgress(100),p.Am.error(s.t0.message.toString(),{position:"top-center",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),s.abrupt("return");case 39:x({username:"",email:"",password:"",confirmPassword:""}),o.preventDefault();case 41:case"end":return s.stop()}}),s,null,[[10,34]])})));return function(e){return s.apply(this,arguments)}}(),U=function(){var s=(0,l.Z)((0,a.Z)().mark((function s(o){var n,l,i;return(0,a.Z)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(""!==y.email&&""!==y.password){s.next=3;break}return R("This field can't be empty !!"),s.abrupt("return");case 3:if(j({email:y.email,password:y.password}),n={email:y.email,password:y.password},H){s.next=30;break}return s.prev=6,e.fillProgress(50),s.next=10,fetch("".concat("https://agreeable-khakis-toad.cyclic.app/","/api/user/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});case 10:return l=s.sent,s.next=13,l.json();case 13:if(i=s.sent,e.fillProgress(100),R(""),l.ok){s.next=18;break}throw new Error(i.message);case 18:console.log(i.user._id),t.login(i.user._id,i.token),p.Am.success(i.message,{position:"top-center",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),r("/"),s.next=30;break;case 24:return s.prev=24,s.t0=s.catch(6),console.log(s.t0),e.fillProgress(100),p.Am.error(s.t0.message,{position:"top-center",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),s.abrupt("return");case 30:j({email:"",password:""}),o.preventDefault();case 32:case"end":return s.stop()}}),s,null,[[6,24]])})));return function(e){return s.apply(this,arguments)}}(),_=function(e){var r=e.target,t=r.name,a=r.value;x((function(e){return(0,o.Z)((0,o.Z)({},e),{},(0,s.Z)({},t,a))})),C(""),A("")},J=function(e){var r=e.target,t=r.name,a=r.value;j((function(e){return(0,o.Z)((0,o.Z)({},e),{},(0,s.Z)({},t,a))})),R("")},M=(0,c.useRef)(null),V=(0,c.useRef)(null);return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(p.Ix,{position:"top-center",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"}),(0,g.jsx)("section",{className:"min-h-full bg-cover   gradient-form bg-gray-200 ",children:(0,g.jsx)("div",{className:"container py-12 px-6 mx-auto h-full",children:(0,g.jsx)("div",{className:"flex justify-center items-center flex-wrap h-full g-6 text-gray-800",children:(0,g.jsx)("div",{className:"w-full",children:(0,g.jsx)("div",{className:"block bg-gray-200 rounded-lg",children:(0,g.jsxs)("div",{className:"lg:flex lg:flex-wrap g-0",children:[(0,g.jsx)("div",{ref:V,className:"hidden min-w-[360px] w-6/12 mx-auto flex items-center lg:rounded-lg rounded-lg bg-white border-x-2 border-blue-800",children:(0,g.jsxs)("div",{className:"w-10/12 mx-auto",children:[(0,g.jsxs)("div",{className:"text-center",children:[(0,g.jsx)("img",{className:"mx-auto w-48",src:"https://mdbcdn.b-cdn.net/img/Photos/new-templates/bootstrap-login-form/lotus.webp",alt:"logo"}),(0,g.jsx)("h4",{className:" font-mono text-4xl font-bold mt-1 mb-12 pb-1 uppercase text-center text-gray-500",children:"sign up"})]}),(0,g.jsxs)("form",{children:[(0,g.jsxs)("div",{className:"mb-4",children:[(0,g.jsx)("input",{name:"username",type:"text",className:"form-control block w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none",placeholder:"Username",onChange:_,value:h.username}),P&&""===h.username&&(0,g.jsx)("h1",{className:"text-red-700 italic",children:P})]}),(0,g.jsxs)("div",{className:"mb-4",children:[(0,g.jsx)("input",{name:"email",type:"email",className:"form-control block w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none",placeholder:"Email",value:h.email,onChange:_}),P&&""===h.email&&(0,g.jsx)("h1",{className:"text-red-700 italic",children:P})]}),(0,g.jsxs)("div",{className:"mb-4",children:[(0,g.jsx)("input",{name:"password",type:"password",className:"form-control block w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none",placeholder:"Password",value:h.password,onChange:_}),P&&""===h.password&&(0,g.jsx)("h1",{className:"text-red-700 italic",children:P}),S&&(0,g.jsx)("h1",{className:"text-red-700 italic",children:S})]}),(0,g.jsxs)("div",{className:"mb-4",children:[(0,g.jsx)("input",{name:"confirmPassword",type:"password",className:"form-control block w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none",placeholder:"Confirm Password",value:h.confirmPassword,onChange:_}),P&&""===h.confirmPassword&&(0,g.jsx)("h1",{className:"text-red-700 italic",children:P}),S&&(0,g.jsx)("h1",{className:"text-red-700 italic",children:S})]}),!t.isLoggedIn&&(0,g.jsx)(m.Z,{id:"profile-pic",onInput:function(e,r){r?I(r):p.Am.error("Must upload a profile picture",{position:"top-center",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"})}}),(0,g.jsx)("div",{className:"text-center pt-1 mb-12 pb-1",children:(0,g.jsx)("button",{className:"inline-block px-6 py-2.5 text-white font-medium text-xs leading-tight uppercase rounded shadow-md hover:bg-blue-700 hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg transition duration-150 ease-in-out w-full mb-3\r bg-gradient-to-l from-sky-600 to-purple-600\r hover:scale-105 \r ",type:"button","data-mdb-ripple":"true","data-mdb-ripple-color":"light",onClick:L,children:"Sign up"})}),(0,g.jsxs)("div",{className:"flex items-center justify-between pb-6",children:[(0,g.jsx)("p",{className:"mb-0 mr-2",children:"Already have an account?"}),(0,g.jsx)("button",{type:"button",className:"inline-block px-6 py-2 border-2 border-blue-600 text-blue-800 font-medium text-xs leading-tight uppercase rounded hover:bg-blue-600 hover:text-white  focus:outline-none focus:ring-0 transition duration-300 ease-in-out","data-mdb-ripple":"true","data-mdb-ripple-color":"light",onClick:function(){V.current.style.display="none",M.current.style.display="block"},children:"Login"})]})]})]})}),(0,g.jsx)("div",{ref:M,className:"min-w-[360px] w-6/12 mx-auto flex items-center lg:rounded-lg rounded-lg bg-white border-x-2 border-blue-800",children:(0,g.jsx)("div",{className:"w-10/12 mx-auto",children:(0,g.jsxs)("div",{children:[(0,g.jsxs)("div",{className:"text-center",children:[(0,g.jsx)("img",{className:"mx-auto w-48",src:"https://mdbcdn.b-cdn.net/img/Photos/new-templates/bootstrap-login-form/lotus.webp",alt:"logo"}),(0,g.jsx)("h4",{className:" font-mono text-4xl font-bold mt-1 mb-12 pb-1 uppercase text-center text-gray-500",children:"login"})]}),(0,g.jsxs)("form",{children:[(0,g.jsxs)("div",{className:"mb-4",children:[(0,g.jsx)("input",{name:"email",type:"text",className:"form-control block w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none",placeholder:"Email",onChange:J}),H&&""===y.email&&(0,g.jsx)("h1",{className:"text-red-700 italic",children:H})]}),(0,g.jsx)("div",{className:"mb-4",children:(0,g.jsx)("input",{name:"password",type:"password",className:"form-control block w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none",placeholder:"Password",onChange:J})}),H&&""===y.password&&(0,g.jsx)("h1",{className:"text-red-700 italic",children:H}),(0,g.jsxs)("div",{className:"text-center pt-1 mb-12 pb-1",children:[(0,g.jsx)("button",{className:"inline-block px-6 py-2.5 text-white font-medium text-xs leading-tight uppercase rounded shadow-md hover:bg-blue-700 hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg transition duration-150 ease-in-out w-full mb-3\r bg-gradient-to-l from-sky-600 to-purple-600\r hover:scale-105 \r ",type:"button","data-mdb-ripple":"true","data-mdb-ripple-color":"light",onClick:U,children:"Log in"}),(0,g.jsx)("a",{className:"text-gray-500",href:"#!",children:"Forgot password?"})]}),(0,g.jsxs)("div",{className:"flex items-center justify-between pb-6",children:[(0,g.jsx)("p",{className:"mb-0 mr-2",children:"Don't have an account?"}),(0,g.jsx)("button",{type:"button",className:"inline-block px-6 py-2 border-2 border-blue-600 text-blue-800 font-medium text-xs leading-tight uppercase rounded hover:bg-blue-600 hover:text-white  focus:outline-none focus:ring-0 transition duration-300 ease-in-out","data-mdb-ripple":"true","data-mdb-ripple-color":"light",onClick:function(){M.current.style.display="none",V.current.style.display="block"},children:"Sign Up"})]})]})]})})})]})})})})})})]})}},479:function(e,r,t){t(791);var s=t(184);r.Z=function(e){return(0,s.jsx)("button",{type:"button",className:"inline-block px-6 py-2.5 bg-white text-blue-700 font-medium text-xs leading-tight uppercase rounded shadow-md hover:bg-blue-700 hover:text-white hover:shadow-lg focus:bg-blue-700 focus:shadow-lg focus:outline-none focus:ring-0 focus:text-white active:bg-blue-800 active:text-white  active:shadow-lg transition duration-150 ease-in-out",onClick:e.afterClick,children:e.text})}},701:function(e,r,t){var s=t(439),o=t(791),a=t(479),n=t(184);r.Z=function(e){var r=(0,o.useState)(),t=(0,s.Z)(r,2),l=t[0],i=t[1],c=(0,o.useState)(),d=(0,s.Z)(c,2),u=d[0],p=d[1],m=(0,o.useRef)();(0,o.useEffect)((function(){if(l){var e=new FileReader;e.onload=function(){p(e.result)},e.readAsDataURL(l)}}),[l]);return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{className:"flex justify-center",children:(0,n.jsxs)("div",{className:"mb-3 w-full flex-col justify-center",children:[(0,n.jsxs)("label",{htmlFor:e.id,className:"form-label inline-block mb-2 text-gray-500 text-lg italic font-mono text-center w-full",children:[" ",e.label]}),(0,n.jsx)("input",{onChange:function(r){var t;r.target.files&&1===r.target.files.length&&(t=r.target.files[0],i(t),console.log(r.target.files[0])),e.onInput(e.id,t)},ref:m,className:"form-control\r hidden\r w-full\r px-3\r py-1.5\r text-base\r font-normal\r text-gray-700\r bg-white bg-clip-padding\r border border-solid border-gray-300\r rounded\r transition\r ease-in-out\r m-0\r focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none",type:"file",id:e.id,accept:".jpg,.jpeg,.png"}),(0,n.jsxs)("div",{className:"mt-2 container w-1/2 m-auto  border-dashed border-gray-300  border-2",children:[u&&(0,n.jsx)("img",{src:u,alt:"picked-img"}),!u&&(0,n.jsx)("p",{className:"w-full text-center my-auto",children:"Please pick an image"})]}),(0,n.jsx)("div",{className:"mt-2 flex justify-center",children:(0,n.jsx)(a.Z,{text:"Upload Image",colour:"blue",afterClick:function(){m.current.click()}})})]})})})}},462:function(){}}]);
//# sourceMappingURL=458.26ecb13a.chunk.js.map