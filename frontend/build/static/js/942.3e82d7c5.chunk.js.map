{"version":3,"file":"static/js/942.3e82d7c5.chunk.js","mappings":"2LAMMA,EAAYC,EAAAA,MAAW,kBAAK,4BAAgC,IA6GlE,UA1Gc,SAAH,GAA0C,IAApCC,EAAY,EAAZA,aAAeC,EAAa,EAAbA,cAC9B,GAAsCC,EAAAA,EAAAA,UAAS,IAAG,eAA3CC,EAAW,KAAEC,EAAc,KAyC5BC,GAAOC,EAAAA,EAAAA,MAAYC,KACzBC,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAO,yCAAG,2FAIK,OAJL,SAIZT,EAAa,IAAI,SACSU,MAAM,GAAD,OAC1BC,4CAAiC,2BAAmBN,IACvD,KAAD,EACgB,OAHXO,EAAW,OAGjBZ,EAAa,IAAI,SACMY,EAAYC,OAAO,KAAD,EAEzC,GAFMC,EAAQ,OACdd,EAAa,KAERY,EAAYG,GAAG,CAAD,sBAEX,IAAIC,MAAMF,EAASG,SAAS,KAAD,GAEnCb,EAAeU,EAASI,QAAQ,kDAEhCC,QAAQC,IAAI,EAAD,IACXpB,EAAa,KAAK,0DAErB,kBArBY,mCAsBbS,GACF,GAAG,IAMH,OACE,iCACE,SAAC,KAAc,CACbY,SAAS,aACTC,UAAW,IACXC,iBAAiB,EACjBC,aAAa,EACbC,cAAY,EACZC,KAAK,EACLC,kBAAgB,EAChBC,WAAS,EACTC,cAAY,EACZC,MAAM,WAER,iBAAKC,UAAU,uBAAsB,WACnC,gBAAKA,UAAU,sFAAqF,SAAC,YAGrG,eAAIA,UAAU,4EACd,gBAAKA,UAAU,iBAAgB,UAC7B,gBAAKA,UAAU,yCAAwC,UACnD9B,GAAiBE,IACjB,SAAC,EAAA6B,SAAQ,CAACC,UAAW,SAAC,IAAO,CAACC,KAAM,MAAQ,UAC1C,SAACpC,EAAS,CAACqC,KAAMhC,EAAaiC,cA3BvB,SAACC,GACpBjC,GAAe,SAAAkC,GAAI,OAAIA,EAAKC,QAAQ,SAAAC,GAAK,OAAIA,EAAMC,MAAOJ,CAAgB,GAAC,GAC5E,eAiCH,C","sources":["places/pages/Place.js"],"sourcesContent":["import React, { useEffect, useState , Suspense} from \"react\";\r\n// import PlaceList from \"../compnents/PlaceList\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport Loading from '../../utils/Loading'\r\nimport { ToastContainer, toast } from \"react-toastify\";\r\n\r\nconst PlaceList = React.lazy(()=> import('../compnents/PlaceList'))\r\n\r\n\r\nconst Place = ({ fillProgress , checkProgress }) => {\r\n  const [loadedPlace, setLoadedPlace] = useState([]);\r\n\r\n  // const places=[\r\n  //   {\r\n  //     id : \"p1\",\r\n  //     title : \"nitsikkim\" ,\r\n  //     desc : \" This college is present in the owe of Nature's beauty ..\" ,\r\n  //     imgUrl : 'https://i.ytimg.com/vi/roWr_swPSHU/maxresdefault.jpg' ,\r\n  //     address : \"79X4+2W7, Barfung Block, Ravangla, Sikkim 737139\" ,\r\n  //     location : {\r\n  //       lat : 40.48613,\r\n  //       long : 108.6664\r\n  //     },\r\n  //     creater : \"u2\"\r\n  //   },\r\n  //   {\r\n  //     id : \"p2\",\r\n  //     title : \"nitsikkim\" ,\r\n  //     desc : \" This college is present in the owe of Nature's beauty ..\" ,\r\n  //     imgUrl : 'https://math.nitsikkim.ac.in/assets/images/campus1.jpg' ,\r\n  //     address : \"79X4+2W7, Barfung Block, Ravangla, Sikkim 737139\" ,\r\n  //     location : {\r\n  //       lat : 40.48613,\r\n  //       long : 108.6664\r\n  //     },\r\n  //     creater : \"u1\"\r\n  //   },\r\n  //   {\r\n  //     id : \"p3\",\r\n  //     title : \"nitsikkim\" ,\r\n  //     desc : \" This college is present in the owe of Nature's beauty ..\" ,\r\n  //     imgUrl : 'https://images.news18.com/ibnlive/uploads/2021/10/sikkim-163523522416x9.jpg' ,\r\n  //     address : \"79X4+2W7, Barfung Block, Ravangla, Sikkim 737139\" ,\r\n  //     location : {\r\n  //       lat : 40.48613,\r\n  //       long : 108.6664\r\n  //     },\r\n  //     creater : \"u2\"\r\n  //   }\r\n  // ] ;\r\n\r\n  const uuid = useParams().uid;\r\n  useEffect(() => {\r\n    const getList = async () => {\r\n\r\n\r\n      try {\r\n        fillProgress(30);\r\n        const fetchResult = await fetch(\r\n          `${process.env.REACT_APP_BACKEND_URL}/api/place/user/${uuid}`\r\n        );\r\n        fillProgress(70);\r\n        const response = await fetchResult.json();\r\n        fillProgress(100);\r\n        // console.log(response.places)\r\n        if (!fetchResult.ok) {\r\n          // console.log(response.message);\r\n          throw new Error(response.message);\r\n        }\r\n        setLoadedPlace(response.places);\r\n      } catch (err) {\r\n        console.log(err);\r\n        fillProgress(100);\r\n      }\r\n    };\r\n    getList();\r\n  }, []);\r\n\r\n  const handleDelete = (deleted_place_id) => { \r\n    setLoadedPlace(prev => prev.filter( place => place._id!== deleted_place_id))\r\n   }\r\n\r\n  return (\r\n    <>\r\n      <ToastContainer\r\n        position=\"top-center\"\r\n        autoClose={5000}\r\n        hideProgressBar={false}\r\n        newestOnTop={false}\r\n        closeOnClick\r\n        rtl={false}\r\n        pauseOnFocusLoss\r\n        draggable\r\n        pauseOnHover\r\n        theme=\"light\"\r\n      />\r\n      <div className=\"  bg-slate-50 h-full\">\r\n        <div className=\" text-center font-bold text-4xl md:text-6xl text-gray-600 font-mono pt-5 uppercase \">\r\n          places\r\n        </div>\r\n        <hr className=\"w-1/2 h-1 mx-auto  bg-gray-100 border-0 rounded  dark:bg-gray-500 mb-4\"></hr>\r\n        <div className=\"w-11/12 m-auto\">\r\n          <div className=\"grid gap-4 grid-cols-1 lg:grid-cols-2 \">\r\n            {!checkProgress && loadedPlace && (\r\n              <Suspense fallback={ <Loading size={100} />}>\r\n                <PlaceList list={loadedPlace} onPlaceDelete={handleDelete}  />\r\n              </Suspense>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Place;\r\n"],"names":["PlaceList","React","fillProgress","checkProgress","useState","loadedPlace","setLoadedPlace","uuid","useParams","uid","useEffect","getList","fetch","process","fetchResult","json","response","ok","Error","message","places","console","log","position","autoClose","hideProgressBar","newestOnTop","closeOnClick","rtl","pauseOnFocusLoss","draggable","pauseOnHover","theme","className","Suspense","fallback","size","list","onPlaceDelete","deleted_place_id","prev","filter","place","_id"],"sourceRoot":""}